<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="gnc-number-formatter.html">
<link rel="import" href="shared-styles.html">

<dom-module id="gnc-recommendation-detail">
	<template>
		<style include="iron-flex"></style>
	    <style include="shared-styles">
		    :host {
		        display: block;
		        padding: 0;
				color: var(--app-text-color);
		    }
			.flex-horizontal {
	            @apply --layout-horizontal;
	        }
			.flex-vertical {
	            @apply --layout-vertical;
	        }
	        .flexchild {
	            @apply --layout-flex;
	        }
			.danger {
				color: var(--app-danger-color);
			}
			.warning {
				color: var(--app-warning-color);
			}
			.info {
				color: var(--app-highlight-color);
			}
			.strong {
				font-weight: 700;
				color: var(--app-primary-color);
			}
			.date {
				color: var(--app-muted-color);
			}
			.stats > div {
				padding: 0 20px;
				text-align: center;
			}
			.reco {
				border-bottom: 1px var(--app-hairline-color) solid;
				padding: 10px 20px;
			}
			paper-icon-button {
				color: var(--app-primary-color);
			}
	    </style>

		<div class="flex-horizontal reco">
			<div class="flex-vertical flexchild">
				<div class="strong">[[ recommendation.title ]]</div>
				<div>[[ recommendation.description ]]</div>
			</div>
			<div class="flex-horizontal stats">
				<div class="flex-vertical">
					<div>Impact</div>
					<div class="strong">
						<span class$="[[ recommendation.level ]]">
							<gnc-number-formatter input="[[ recommendation.impact ]]" type="c"></gnc-number-formatter>
						</span>
					</div>
				</div>
				<div class="flex-vertical">
					<div>Cost</div>
					<div class="strong">
						<gnc-number-formatter input="[[ recommendation.cost ]]" ></gnc-number-formatter></div>
				</div>
				<div class="flex-vertical">
					<div>Time</div>
					<div class="strong">[[ recommendation.time ]]</div>
				</div>
				<div class="flex-vertical">
					<div>Complexity</div>
					<div class="strong">[[ recommendation.complexity ]]</div>
				</div>
			</div>
			<div class="flex-vertical action-flex">
				<paper-icon-button icon="gnc-icons:arrow-down" on-click="_toggleChildren"></paper-icon-button>
			</div>
		</div>
	</template>

	<script>
		class GncRecommendationDetail extends Polymer.Element {
			static get is() {
				return 'gnc-recommendation-detail';
			}
			static get properties() {
				return {
					recommendation: Object,
					showChildren: Boolean
				}
			}
			_toggleChildren() {
				this.showChildren = !this.showChildren;
			}
			_toggleDetails(ev) {
				console.log(ev);
			}
		}

		window.customElements.define(GncRecommendationDetail.is, GncRecommendationDetail);
	</script>
</dom-module>
