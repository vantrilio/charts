<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/app-layout/app-grid/app-grid-style.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="gnc-number-formatter.html">
<link rel="import" href="shared-styles.html">

<dom-module id="gnc-kpi-panel">
	<template>
		<style include="app-grid-style"></style>
	    <style include="shared-styles">
	      :host {
	        display: block;
	        padding: 0;
			--app-grid-columns: 1;
	      }
		  .app-grid > div {
			  padding: 12px 20px;
		  }
		  .title {
			  color: var(--app-text-color);
		  }
		  .value {
			  font-size: calc(var(--app-font-size) * 1.6);
			  font-weight: bold;
		  }
		  .danger {
			  color: var(--app-danger-color);
		  }
		  .warning {
			  color: var(--app-warning-color);
		  }
		  .info {
			  color: var(--app-main-color);
		  }
	    </style>
		<div class="app-grid" id="appgrid">
	    	<template is="dom-repeat" items="[[ kpis ]]" filter="_kpiIsOnDashboard">
				<div>
					<div class="title">[[ item.title ]]</div>
					<div class$="value [[ item.level ]]">
						<gnc-number-formatter input="[[ item.kpi ]]" type="[[ row.valueType ]]"></gnc-number-formatter>
					</div>
				</div>
			</template>
		</div>
	</template>

	<script>
		class GncKpiPanel extends Polymer.Element {
			static get is() {
				return 'gnc-kpi-panel';
			}
			static get properties() {
				return {
					// attributes
					kpis: Array
				}
			}
			_kpiIsOnDashboard(kpi) {
				return !!kpi.kpi;
			}
		}

		window.customElements.define(GncKpiPanel.is, GncKpiPanel);
	</script>
</dom-module>
